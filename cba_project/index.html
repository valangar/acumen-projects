<!DOCTYPE html>
<html lang = "en">
    <head>
		<meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Understanding effects of policy change </title>
		<link rel="shortcut icon" href="../va_logo.png"/>
		<link rel="stylesheet" href="./main.css">
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i,900,900i" rel="stylesheet">
		<script src = "https://d3js.org/d3.v4.min.js"></script>
    </head>
    <body>
		<div class = "title">
			<div class = "title-inner">
				<h1>Understanding effects of policy change</h1>
				<h4 class="float-right"></h4>
				<div class = "dates">
					<div id="date">Page updated: 25 February, 2019</div>
					<div id="proj-date-loc">Project: April, 2018 - Acumen, LLC</div>
				</div>
			</div>
		</div>
		
		<div id="main-container">
				<br><br>
				<div id="intro-container">
					<div id="intro-p">
						<p>
							This tool provides a geographic representation of the impact of Competetive Bidding (CB) Policy introduced in CB areas by the Center for Medicare and Medicaid Services.
							<br>
							For different population types and groups, scores were assigned based on the health of the population after using the equipment for a certain period. 
							<br><br>
							<strong>Two Considerations:</strong>
							<ol>
								<li>Was to draw immediate attention to areas that were both negatively and positively impacted by the policy. The negatively impacted areas are in red and the positives are in blue.</li>
								<li>Check for similar trends in neighboring areas. </li>
							</ol>
						</p>
						<h3 class="section-title">PROCESS: </h3>
						<p class="flex">As the main contributor on this project, I was involved in the Discussions, Brainstorming Sessions, Designing, Documenting and Implementation stages.</p>
						<img width="100%" height="100%" src="./images/process.png" alt="Process diagram"/>
						<h3 class="section-title">TECH STACK: </h3>
						<ul>
							<li>JavaScript - JQuery</li>
							<li>D3.js for the map visualization and interactions</li>
							<li>require.js to include libraries, modules</li>
							<li>Bootstrap for the tutorial</li>
						</ul>
						<p>I follow a Model-View-Controller pattern to structure the code:</p>
						<img width="100%" height="100%" src="./images/mvc.png" alt="Model View Controller Diagram"/>
						<p>Following is a module that creates a legend for a map:</p>
						<img id="collapsed-mvc" src="images/collapsed_code_mvc.png" alt="Collapsed Reusable Module Code for Legend Generation using D3.js" />
						<p>
							The module code is collapsed to only reveal the structure.
							<br>The module contains a legend function nested within an outer function forming a closure.
							<br>It has getters and setters to help configure the module.
							<br>Structuring it this way helped create highly reusable visualizations.
						</p>						
					</div>
				</div>
				<div id="content">
					<h3 id = "screenshot-title" class="section-title">SCREENSHOTS: </h3>
					<div class="row">
						<div class = "img-desc">
							<div class = "img-wrap">
								<div class = "img" id = "cm" ></div>
								<div class="img-text-layer" onclick="openModal();currentSlide(1)">
									<p class="img-text">Click to view full screen ...</p>
								</div>
							</div>
						</div>
						<div class = "img-desc">
							<div class = "img-wrap">
								<div class = "img" id = "cm-filter" ></div>
								<div class="img-text-layer" onclick="openModal();currentSlide(2)">
									<p class="img-text">Click to view full screen ...</p>
								</div>
							</div>
						</div>
						<div class = "img-desc">
							<div class = "img-wrap">
								<div class = "img-sub" id = "cm-search" ></div>
								<div class="img-text-layer" onclick="openModal();currentSlide(3)">
									<p class="img-text">Click to view full screen ...</p>
								</div>
							</div>
						</div>
					</div>
					<h3>CHALLENGE:</h3>
					<p>
						The main concern with these D3.js map visuals is that it affected the initial load time. Relatively simple visuals like this one would take 15 to 20 seconds to load.
						<br><br>
						This was due to projection of the shapefile into SVG paths as the tool initially loaded.
						<br><br>	
						To overcome this issue, I worked on a <strong>command-line cartography</strong> technique that generated projected SVG file that were then ready to use in the application.
						<br><br>
						<strong>This reduced the load time considerably from 20 seconds down to 2 seconds (by 10 times). </strong>
						<img id="svg-code-img" src="images/code_snippet.png" alt="Projected SVG file generated through Command-line Cartography" />
					</p>
				</div>
				<!-- The Modal/Lightbox -->
				<div id="myModal" class="modal">
					<span class="close cursor" onclick="closeModal()">&times;</span>
					<div class="modal-content">
				
						<div class="mySlides">
							<div class="numbertext">1 / 3</div>
							<img src="./images/CM_Tool.PNG" style="width:100%">
						</div>
					
						<div class="mySlides">
							<div class="numbertext">2 / 3</div>
							<img src="./images/CM_Tool_filtered.PNG" style="width:100%">
						</div>
					
						<div class="mySlides">
							<div class="numbertext">3 / 3</div>
							<img src="./images/CM_Tool_search.PNG" style="width:100%">
						</div>

						<!-- Next/previous controls -->
						<a class="prev" onclick="plusSlides(-1)">&#10094;</a>
						<a class="next" onclick="plusSlides(1)">&#10095;</a>
					
						<!-- Caption text -->
						<div class="caption-container">
							<p id="caption"></p>
						</div>
					
					</div>
				</div>
		</div>

		<script src = "./main.js"></script>
	</body>
</html>